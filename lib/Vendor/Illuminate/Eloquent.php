<?php
namespace Chatbox\Migrate\Vendor\Illuminate;
/**
 * Created by PhpStorm.
 * User: mkkn
 * Date: 2015/04/26
 * Time: 23:51
 */

use Illuminate\Database\Eloquent\Model;

abstract class Eloquent extends Model{

    public function __construct(array $attributes = array())
    {
        $this->setup();
        parent::__construct($attributes); // TODO: Change the autogenerated stub
    }

    protected function setup(){
        $schema = $this->getSchema();
        $schema->getColumns();
        $this->table = $schema->getName();
        if(!$this->fillable){
            foreach($schema->getColumns() as $column){
                $this->fillable[] = $column->getName();
            }
        }
    }

    abstract protected function getSchema();
}